FROM ubuntu:20.04

RUN apt update
RUN apt install -y curl wget python3 python3-pip
COPY internal_contoller/ /usr/src/app/internal_contoller/
COPY worker_manager/ /usr/src/app/worker_manager/
COPY internal_controller_setup.py /usr/src/app/internal_controller_setup.py
COPY setup.py /usr/src/app/setup.py
RUN cd /usr/src/app && python3 internal_controller_setup.py install
RUN pip3 install websockets pydantic